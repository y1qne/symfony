{# templates/home/index.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}
    Back - Office
{% endblock %}

{% block body %}

    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-4">
            <div class="jumbotron text-center">
                <h2 class="h3 font-weight-bold">
                    Back - Office
                </h2>
                {% if app.user %}
                    <p>You are connected as {{ app.user.username }}.</p>
                {% else %}
                    <p>You are not connected.</p>
                {% endif %}
            </div>

            {# Render the login form using the LoginFormType class #}
            {{ form_start(form) }}
                {# Display general form errors #}
                {% if form_errors(form) %}
                    <div class="alert alert-danger">
                        {{ form_errors(form) }}
                    </div>
                {% endif %}

                <div class="mb-3">
                    {{ form_row(form.username, { 'label': 'Username', 'attr': {'class': 'form-control'} }) }}
                    {# Display field-specific errors #}
                    {% for error in form_errors(form.username) %}
                        <div class="alert alert-danger">
                            {{ error.message }}
                        </div>
                    {% endfor %}
                </div>

                <div class="mb-3">
                    {{ form_row(form.password, { 'label': 'Password', 'attr': {'class': 'form-control'} }) }}
                    {# Display field-specific errors #}
                    {% for error in form_errors(form.password) %}
                        <div class="alert alert-danger">
                            {{ error.message }}
                        </div>
                    {% endfor %}
                </div>

                <div class="d-grid">
                    <button type="submit" class="btn btn-primary btn-block">
                        Sign in
                    </button>
                </div>
            {{ form_end(form) }}

        </div>
    </div>

{% endblock %}
